# å…¥é—¨

#### 1. æ•°ç»„

- ##### ä¸€ç»´æ•°ç»„å®šä¹‰æ–¹å¼
  > 1. æ•°æ®ç±»å‹ æ•°ç»„å[æ•°ç»„é•¿åº¦]
  > 2. æ•°æ®ç±»å‹ æ•°æ®å[æ•°æ®é•¿åº¦] = {å€¼1, å€¼2, ...}
  > 3. æ•°æ®ç±»å‹ æ•°æ®å[ ] = {å€¼1, å€¼2, ...}
- ##### ä¸€ç»´æ•°ç»„è·å–æ•°ç»„é•¿åº¦ä»¥åŠæŸ¥çœ‹æ•°ç»„é¦–åœ°å€
  ```cpp
  sizeof(arr) / sizeof(arr[0])
  cout << arr << endl; or cout << &arr[0]; // è®¿é—®å…·ä½“æ•°æ®éœ€è¦åŠ åœ°å€ç¬¦
  ```
- ##### äºŒç»´æ•°ç»„å®šä¹‰æ–¹å¼
  > 1.æ•°æ®ç±»å‹ æ•°ç»„å[ è¡Œæ•° ][ åˆ—æ•° ]
  > 2.æ•°æ®ç±»å‹ æ•°ç»„å[ è¡Œæ•° ][ åˆ—æ•° ] = {{æ•°æ®1,æ•°æ®2},{æ•°æ®3,æ•°æ®4}}
  > 3.æ•°æ®ç±»å‹ æ•°ç»„å[ è¡Œæ•° ][ åˆ—æ•° ] = { æ•°æ®1,æ•°æ®2,æ•°æ®3,æ•°æ®4 };
  > 4.æ•°æ®ç±»å‹ æ•°ç»„å[  ][ åˆ—æ•° ] = { æ•°æ®1,æ•°æ®2,æ•°æ®3,æ•°æ®4 };

---

#### 2. æŒ‡é’ˆ

***å…ˆè®°ä½ä¸€ä¸ªæ¦‚å¿µï¼ŒæŒ‡é’ˆå°±æ˜¯ä¸€ä¸ªåœ°å€***

- ##### å®šä¹‰æŒ‡é’ˆ
    ```cpp
    int a = 10;
    int *p; // å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆ int *p = &aä¹Ÿå¯
    p = &a; // è®©æŒ‡é’ˆpè®°å½•açš„åœ°å€
    cout << "açš„åœ°å€ä¸º" << &a; // 00AFF77C
    cout << "æŒ‡é’ˆpä¸º" << p; // 00AFF77C
    ```
- ##### ä½¿ç”¨æŒ‡é’ˆ
    ```cpp
    // å¯ä»¥é€šè¿‡è§£å¼•ç”¨çš„æ–¹å¼æ¥æ‰¾åˆ°æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜
    // æŒ‡é’ˆå‰åŠ  * ä»£è¡¨"è§£å¼•ç”¨"ï¼Œæ‰¾åˆ°æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ä¸­çš„æ•°æ®
    *p = 1000;
    cout << "aä¸º" << a; // 1000
    cout << "*pä¸º" << *p; // 1000
    ```
  å°çŸ¥è¯†ï¼šåœ¨32ä½ç³»ç»Ÿä¸‹æŒ‡é’ˆå ç”¨å†…å­˜ç©ºé—´ä¸º4ï¼Œ64ä½ä¸º8ã€‚
- ##### ç©ºæŒ‡é’ˆå’Œé‡æŒ‡é’ˆ
    ```cpp
    // ç©ºæŒ‡é’ˆç”¨äºç»™æŒ‡é’ˆå˜é‡åˆå§‹åŒ–
    int *p = NULL;
    // ç©ºæŒ‡é’ˆä¸å¯ä»¥è¿›è¡Œè®¿é—®
    *p = 10; // â—ï¸æŠ¥é”™
    cout << *p; // â—ï¸æŠ¥é”™

    // é‡æŒ‡é’ˆå˜é‡æŒ‡å‘éæ³•å†…å­˜ç©ºé—´
    // (int *)å¼ºè¡Œå°†åœ°å€ç±»å‹è½¬æ¢ä¸ºæŒ‡é’ˆç±»å‹
    int *p = (int *)0x1100; // æ²¡æœ‰0x1100å†…å­˜ç©ºé—´è®¿é—®æƒé™
    cout << *p; // â—ï¸æŠ¥é”™ï¼šè¯»å–è®¿é—®æƒé™å†²çª
    ```
- ##### constä¿®é¥°æŒ‡é’ˆ
    1. constä¿®é¥°æŒ‡é’ˆâ¡ï¸å¸¸é‡æŒ‡é’ˆ
    2. constä¿®é¥°å¸¸é‡â¡ï¸æŒ‡é’ˆå¸¸é‡
    3. constæ—¢ä¿®é¥°æŒ‡é’ˆï¼Œåˆä¿®é¥°å¸¸é‡
    ```cpp
    int a = 10;
    int b = 10;
    int *p = &a;

    // 1.å¸¸é‡æŒ‡é’ˆ
    const int *p = &a; // ç‰¹ç‚¹ï¼šæŒ‡é’ˆçš„æŒ‡å‘å¯ä»¥æ”¹ï¼ŒæŒ‡å‘çš„å€¼ä¸å¯ä»¥æ”¹
    *p = 20; // âŒæŒ‡é’ˆæŒ‡å‘çš„å€¼ä¸å¯ä»¥æ”¹ 
    p = &b; // æ­£ç¡®ï¼ŒæŒ‡é’ˆæŒ‡å‘å¯ä»¥æ”¹ï¼Œå¯ä»¥æŒ‡å‘å…¶ä»–å†…å­˜åœ°å€

    // 2.æŒ‡é’ˆå¸¸é‡
    int *const p = &a; // ç‰¹ç‚¹ï¼šæŒ‡é’ˆçš„æŒ‡å‘ä¸å¯ä»¥æ”¹ï¼ŒæŒ‡å‘çš„å€¼å¯ä»¥æ”¹
    *p = 20; // æ­£ç¡®ï¼ŒæŒ‡é’ˆæŒ‡å‘çš„å€¼å¯ä»¥æ”¹
    p = &b; // âŒæŒ‡é’ˆçš„æŒ‡å‘ä¸å¯ä»¥æ”¹

    // 3.constæ—¢ä¿®é¥°æŒ‡é’ˆï¼Œåˆä¿®é¥°å¸¸é‡
    const int *const p = &a; // ç‰¹ç‚¹ï¼šæŒ‡é’ˆçš„æŒ‡å‘å’ŒæŒ‡é’ˆæŒ‡å‘çš„å€¼éƒ½ä¸å¯ä»¥æ”¹
    *p = 20; // âŒ
    p = &b; // âŒ
    ```
  ğŸŒŸ**å°æŠ€å·§ï¼š**
  conståé¢è·Ÿç€çš„æ˜¯pçš„è¯ï¼Œè¯´æ˜æ˜¯æŒ‡é’ˆï¼Œconsté™å®špï¼Œé‚£ä¹ˆæƒ³ç”¨pæ“ä½œ(p = &b)çš„é‚£å°±æ˜¯é”™è¯¯ï¼ŒåŒç†ï¼Œconståé¢æ˜¯ *pï¼Œé‚£ä¹ˆconsté™å®šçš„æ˜¯*pï¼Œæ•…*pçš„æ“ä½œä¹Ÿä¸å…è®¸
- ##### æŒ‡é’ˆå’Œæ•°ç»„
    ```cpp
    int arr[5] = {1, 2, 3, 4, 5};
    int *p = arr; // arrå°±æ˜¯æ•°ç»„çš„é¦–åœ°å€
    cout << *p; // 1
    p++; // è®©æŒ‡é’ˆå‘ååç§»4ä¸ªå­—èŠ‚ï¼ˆintä¸º4å­—èŠ‚ï¼‰
    cout << *p; // 2

    // åˆ©ç”¨æŒ‡é’ˆéå†æ•°ç»„
    int *p2 = arr;
    for (int i = 0; i < 5; i++) {
      cout << *p2;
      p2++;
    }
    ```
- ##### æŒ‡é’ˆå’Œå‡½æ•°
  è¿™ä¹ˆåšå®å‚å’Œå½¢å‚éƒ½æœ‰å˜åŒ–
    ```cpp
    // é‡Œé¢ç”¨æŒ‡é’ˆæ¥æ¥æ”¶
    void swap(int *a, int *b) {
      int temp = *a;
      *a = *b;
      *b = temp;
    }
    int main() {
      int a = 10;
      int b = 20;
      // åœ°å€ä¼ é€’ï¼Œå¯ä»¥æ”¹å˜å®å‚
      /*
      ä½†å¦‚æœåªæ˜¯å•çº¯å€¼ä¼ é€’ï¼ˆswap(a, b)ï¼‰ï¼Œä¸ä¼šæ”¹å˜å®å‚
      */
      swap(&a, &b);
      return 0;
    }

    ```
  **å¦‚æœä¸æƒ³ä¿®æ”¹å®å‚ï¼Œå°±ç”¨å€¼ä¼ é€’ï¼Œå¦‚æœæƒ³ä¿®æ”¹å®å‚ï¼Œå°±ç”¨åœ°å€ä¼ é€’ã€‚**

---

#### 3. ç»“æ„ä½“

- ##### ç»“æ„ä½“æ•°ç»„
    ```cpp
    struct Student {
      string name;
      int age;
      int score;
    };

    // åˆ›å»ºç»“æ„ä½“æ•°ç»„
    struct Student array[3] = {
      {"alex", 18, 100},
      {"peter", 28 99},
      {"bob", 30, 90}
    };

    // å¯ä»¥ç»™ç»“æ„ä½“æ•°ç»„ä¸­çš„å…ƒç´ èµ‹å€¼
    array[2].name = "Mary";
    ```
- ##### ç»“æ„ä½“æŒ‡é’ˆ
  åˆ©ç”¨æ“ä½œç¬¦ ```->``` å¯ä»¥é€šè¿‡ç»“æ„ä½“æŒ‡é’ˆè®¿é—®ç»“æ„ä½“å±æ€§
    ```cpp
    struct Student {
      string name;
      int age;
      int score;
    };
    int main() {
      // structå…³é”®è¯å¯ä»¥çœç•¥

      // åˆ›å»ºå­¦ç”Ÿç»“æ„ä½“å˜é‡
      Student s = {"alex", 18, 100};

      // é€šè¿‡æŒ‡é’ˆæŒ‡å‘ç»“æ„ä½“çš„å˜é‡
      Student *p = &s;

      // é€šè¿‡æŒ‡é’ˆè®¿é—®ç»“æ„ä½“å˜é‡ä¸­çš„æ•°æ®
      cout << p->name; // alex
    }
    ```
- ##### ç»“æ„ä½“åµŒå¥—ç»“æ„ä½“
    ```cpp
    struct Student {
      string name;
      int age;
      int score;
    };
    struct Teacher {
      string name;
      int age;
      int score;
      struct Student stu;
    };

    // è®¿é—®é‡Œé¢çš„å­¦ç”Ÿ
    Teacher t;
    cout << t.stu.name;
    ```
- ##### ç»“æ„ä½“åšå‡½æ•°å‚æ•°
  ä¼ é€’æ–¹å¼æœ‰ä¸¤ç§ï¼š
    - å€¼ä¼ é€’
    - åœ°å€ä¼ é€’
    ```cpp
    struct Student {
      string name;
      int age;
      int score;
    };

    // å€¼ä¼ é€’
    void printStudent(struct Student s) {
      cout << s.name;
    }

    void printStudent1(struct Student *s) {
      cout << s->name;
    }

    int main() {
      struct Student s;
      printStudent(s);
      printStudent1(&s);
    }
    ```
  æœ‰æ¶‰åŠåˆ°æŒ‡é’ˆï¼Œè®¿é—®æ•°æ®å°±ç”¨```->```ï¼Œåä¹‹ç”¨```.```
  åŒæ—¶ï¼Œåœ¨é¢å¯¹å¤§æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨å€¼ä¼ é€’ä¼šæ¶ˆè€—å¤§é‡å†…å­˜ï¼Œå› ä¸ºè¯¥è¿‡ç¨‹æ˜¯å¯¹å†…å®¹è¿›è¡Œæ‹·è´ï¼Œè¿™æ ·æ¯æ¬¡è°ƒç”¨éƒ½ä¼šå¤åˆ¶ä¸€æ¬¡ã€‚æ‰€ä»¥åœ°å€ä¼ é€’å¯¹å¥½å¤„å°±å‡¸æ˜¾å‡ºæ¥äº†ã€‚
  ä¸€ä¸ªæŒ‡é’ˆåªå 4ä¸ªå­—èŠ‚ï¼Œè€Œä¸”ä¸ä¼šå¤åˆ¶æ–°çš„å‰¯æœ¬å‡ºæ¥ã€‚â•ä½†æ˜¯ä¹Ÿæœ‰åå¤„ï¼Œç›´æ¥ä¿®æ”¹äº†åŸåœ°å€å¯¹å†…å®¹ï¼Œæœ¬æ„åªæƒ³"è¯»"ï¼Œå´å˜æˆäº†"å†™"ã€‚æ‰€ä»¥æˆ‘ä»¬è¦é¿å…è¿™ä¸ªæƒ…å†µçš„
  å¼•å…¥```const```â¬‡ï¸
- ##### conståœ¨ç»“æ„ä½“ä¸­çš„ä½¿ç”¨
    ```cpp
    struct Student {
      string name;
      int age;
      int score;
    };
  
    void printStudent1(const Student *s) {
      s->age = 100; // âŒ åŠ å…¥constä¹‹åï¼Œä¸€æ—¦æœ‰ä¿®æ”¹çš„æ“ä½œå°±ä¼šæŠ¥é”™ï¼Œå¯ä»¥é˜²æ­¢æˆ‘ä»¬è¯¯æ“ä½œ
      cout << s->name;
    }
    ```
  Date: 2021.11.27